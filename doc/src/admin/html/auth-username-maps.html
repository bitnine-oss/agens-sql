<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>사용자 이름 맵</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Agens SQL 1.0 문서"
HREF="index.html"><LINK
REL="UP"
TITLE="클라이언트 인증"
HREF="client-authentication.html"><LINK
REL="PREVIOUS"
TITLE="The pg_hba.conf 파일"
HREF="auth-pg-hba-conf.html"><LINK
REL="NEXT"
TITLE="인증 방법"
HREF="auth-methods.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
name="viewport"
content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"><META
NAME="creation"
CONTENT="2015-06-29T09:12:38"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Agens SQL 1.0 문서</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="The pg_hba.conf 파일"
HREF="auth-pg-hba-conf.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="client-authentication.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>장 3. 클라이언트 인증</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="인증 방법"
HREF="auth-methods.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AUTH-USERNAME-MAPS"
>3.2. 사용자 이름 맵</A
></H1
><P
> Ident 또는 GSSAPI 같은 외부 인증 시스템을 사용하는 경우, 연결을 시작하는 운영 체제 사용자의 이름은 연결해야 하는 
 데이터베이스 사용자 이름과 다를 수 있다. 
 이런 경우 사용자 이름 맵을 사용하여 운영 체제 사용자 이름과 데이터베이스 사용자 이름을 맵핑할 수 있다. 
 사용자 이름 맵핑을 사용하려면 pg_hba.conf 옵션 필드에서 <TT
CLASS="LITERAL"
>map</TT
>=<TT
CLASS="REPLACEABLE"
><I
>map-name</I
></TT
>을 지정해야 한다. 
 이 옵션은 외부 사용자 이름을 수신하는 모든 인증 방법에서 지원된다. 
 서로 다른 연결에 서로 다른 맵핑이 필요할 수 있으므로 연결별로 사용할 맵을 지정하기 위해 사용할 맵의 이름은 
 <TT
CLASS="FILENAME"
>pg_hba.conf</TT
>의 <TT
CLASS="REPLACEABLE"
><I
>map-name</I
></TT
> 매개 변수에서 지정된다.</P
><P
> 사용자 이름 맵은 ident 맵 파일에서 정의되며, 기본적으로 이름은 <TT
CLASS="FILENAME"
>pg_ident.conf</TT
>이며 클러스터의 데이터 디렉토리에 저장된다. 
 (맵 파일을 다른 곳에 배치할 수도 있다. ident_file 환경 설정 매개 변수를 참조 바란다.)
</P><PRE
CLASS="SYNOPSIS"
><TT
CLASS="REPLACEABLE"
><I
>map-name</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>system-username</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>database-username</I
></TT
></PRE
><P>
 주석 및 공백은 <TT
CLASS="FILENAME"
>pg_hba.conf</TT
>에서와 동일하게 처리된다. <TT
CLASS="REPLACEABLE"
><I
>map-name</I
></TT
>은 <TT
CLASS="FILENAME"
>pg_hba.conf</TT
>에서 이 맵핑을 참고하기 위해 사용되는 임의의 이름이다. 
 나머지 2개의 필드는 운영 체제 사용자 이름 및 일치하는 데이터베이스 사용자 이름을 지정한다. 
 동일한 <TT
CLASS="REPLACEABLE"
><I
>map-name</I
></TT
>을 여러 번 사용해서 단일 맵 내에서 여러 사용자 맵핑을 지정할 수 있다.</P
><P
> 주어진 한 명의 운영 체제 사용자가 몇 명의 데이터베이스 사용자에 대응하는지에 대해서는 아무런 제한이 없다(그 반대도 마찬가지). 
 따라서, 맵의 항목은 사용자가 동일함을 의미한다기보다 <SPAN
CLASS="QUOTE"
>"이 운영 체제 사용자는 이 데이터베이스 사용자로서 연결이 허용된다"</SPAN
>로 
 생각되어야 한다. 
 사용자가 연결 요청을 한 데이터베이스 사용자 이름을 사용하여 
 외부 인증 시스템에서 획득한 사용자 이름과 쌍을 이루는 맵 항목이 있을 경우 연결이 허용된다.</P
><P
> <TT
CLASS="REPLACEABLE"
><I
>system-username</I
></TT
> 필드가 슬래시(<TT
CLASS="LITERAL"
>/</TT
>)로 시작되는 경우 필드의 나머지는 정규식으로 처리된다. 
 정규식은 단일 캡처 또는 괄호 표현식을 포함할 수 있으며, <TT
CLASS="LITERAL"
>\1</TT
> (역슬래시 1개)로 <TT
CLASS="REPLACEABLE"
><I
>database-username</I
></TT
> 필드에서 
 참조가 가능하다.이것은 한 줄로 된 여러 사용자 이름을 맵핑할 수 있으며, 단순 구문 대체 시 특히 유용하다. 
 예를 들면,
</P><PRE
CLASS="PROGRAMLISTING"
>mymap /^(.*)@mydomain\.com$\1
mymap /^(.*)@otherdomain\.com$ guest</PRE
><P>
 이 항목은 <TT
CLASS="LITERAL"
>@mydomain.com</TT
>로 끝나는 시스템 사용자 이름을 사용하여 사용자에 대한 도메인 부분을 삭제하고, 
 시스템 이름이 <TT
CLASS="LITERAL"
>@otherdomain.com</TT
>로 끝나는 모든 사용자가 <TT
CLASS="LITERAL"
>guest</TT
>로 로그인하는 것을 허용한다.</P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>작은 정보: </B
>기본적으로 정규식은 string의 일부만 일치할 수 있다는 점에 유의해야 한다. 
위의 예시처럼 전체 시스템 사용자 이름과 일치하도록 하려면 <TT
CLASS="LITERAL"
>^</TT
> 및 <TT
CLASS="LITERAL"
>$</TT
>를 사용하는 것이 좋다.
 </P
></BLOCKQUOTE
></DIV
><P
> <TT
CLASS="FILENAME"
>pg_ident.conf</TT
> 파일은 시작 시 및 메인 서버 프로세스가 <SPAN
CLASS="SYSTEMITEM"
>SIGHUP</SPAN
> 신호를 수신했을 때 읽혀진다.
 활성화 된 시스템에서 파일을 편집하는 경우 파일을 다시 읽어오려면 postmaster에 신호를 전송해야 한다
 (<TT
CLASS="LITERAL"
>pg_ctl reload</TT
> 또는 <TT
CLASS="LITERAL"
>kill -HUP</TT
> 사용).</P
><P
> <A
HREF="auth-pg-hba-conf.html#EXAMPLE-PG-HBA.CONF"
>예 3-1</A
>에서 <TT
CLASS="FILENAME"
>pg_ident.conf</TT
> 파일과 함께 사용할 수 있는 <TT
CLASS="FILENAME"
>pg_hba.conf</TT
> 파일이 <A
HREF="auth-username-maps.html#EXAMPLE-PG-IDENT.CONF"
>예 3-2</A
>에 나와 있다. 이 예제에서 운영 체제 사용자 이름인 <TT
CLASS="LITERAL"
>bryanh</TT
> 또는 <TT
CLASS="LITERAL"
>ann</TT
>, <TT
CLASS="LITERAL"
>robert</TT
>가 없는 192.168 네트워크에서 로그인한 사용자는 액세스 권한을 부여 받지 못한다. 
 Unix 사용자 <TT
CLASS="LITERAL"
>robert</TT
>는 <TT
CLASS="LITERAL"
>robert</TT
> 또는 다른 사람이 아니라 <SPAN
CLASS="PRODUCTNAME"
>Agens SQL</SPAN
> 사용자인 <TT
CLASS="LITERAL"
>bob</TT
>으로 연결을 시도하는 경우에만 액세스가 허용된다. 
 <TT
CLASS="LITERAL"
>ann</TT
>은 <TT
CLASS="LITERAL"
>ann</TT
>으로 연결할 때만 허용된다. 사용자 <TT
CLASS="LITERAL"
>bryanh</TT
>은 <TT
CLASS="LITERAL"
>bryanh</TT
> 또는 <TT
CLASS="LITERAL"
>guest1</TT
>일 때만 연결이 허용된다.</P
><DIV
CLASS="EXAMPLE"
><A
NAME="EXAMPLE-PG-IDENT.CONF"
></A
><P
><B
>예 3-2. <TT
CLASS="FILENAME"
>pg_ident.conf</TT
> 파일 예시</B
></P
><PRE
CLASS="PROGRAMLISTING"
># MAPNAME SYSTEM-USERNAME PG-USERNAME

omicron bryanhbryanh
omicron ann ann
# bob has user name robert on these machines
omicron robertbob
# bryanh can also connect as guest1
omicron bryanhguest1</PRE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="auth-pg-hba-conf.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>처음으로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="auth-methods.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>The <TT
CLASS="FILENAME"
>pg_hba.conf</TT
> 파일</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="client-authentication.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>인증 방법</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>