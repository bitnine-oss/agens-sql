<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>고가용성, 부하 분산, 복제</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Agens SQL 1.0 문서"
HREF="index.html"><LINK
REL="UP"
TITLE="Administrator"
HREF="admin.html"><LINK
REL="PREVIOUS"
TITLE="아카이브 모드 백업(Continuous Archiving)과, 특정시점 복구(Point-in-Time Recovery, PITR)"
HREF="continuous-archiving.html"><LINK
REL="NEXT"
TITLE="여러 해결 기법 비교"
HREF="different-replication-solutions.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
name="viewport"
content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"><META
NAME="creation"
CONTENT="2015-06-29T09:12:38"></HEAD
><BODY
CLASS="CHAPTER"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Agens SQL 1.0 문서</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="아카이브 모드 백업(Continuous Archiving)과, 특정시점 복구(Point-in-Time Recovery, PITR)"
HREF="continuous-archiving.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="admin.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="여러 해결 기법 비교"
HREF="different-replication-solutions.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="HIGH-AVAILABILITY"
></A
>장 9. 고가용성, 부하 분산, 복제</H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>차례</B
></DT
><DT
>9.1. <A
HREF="different-replication-solutions.html"
>여러 해결 기법 비교</A
></DT
><DT
>9.2. <A
HREF="warm-standby.html"
>로그 전달(Log-Shipping) 대기 서버</A
></DT
><DD
><DL
><DT
>9.2.1. <A
HREF="warm-standby.html#STANDBY-PLANNING"
>계획</A
></DT
><DT
>9.2.2. <A
HREF="warm-standby.html#STANDBY-SERVER-OPERATION"
>대기 서버 동작방식</A
></DT
><DT
>9.2.3. <A
HREF="warm-standby.html#PREPARING-MASTER-FOR-STANDBY"
>대기 서버 구축을 위한 운영 서버 준비작업</A
></DT
><DT
>9.2.4. <A
HREF="warm-standby.html#STANDBY-SERVER-SETUP"
>대기 서버 구축하기</A
></DT
><DT
>9.2.5. <A
HREF="warm-standby.html#STREAMING-REPLICATION"
>스트리밍 복제</A
></DT
><DT
>9.2.6. <A
HREF="warm-standby.html#STREAMING-REPLICATION-SLOTS"
>리플리케이션 슬롯</A
></DT
><DT
>9.2.7. <A
HREF="warm-standby.html#CASCADING-REPLICATION"
>순차적 복제</A
></DT
><DT
>9.2.8. <A
HREF="warm-standby.html#SYNCHRONOUS-REPLICATION"
>동기식 복제</A
></DT
></DL
></DD
><DT
>9.3. <A
HREF="warm-standby-failover.html"
>장애처리(failover)</A
></DT
><DT
>9.4. <A
HREF="log-shipping-alternative.html"
>로그 전달 복제에 대한 다른 방법</A
></DT
><DD
><DL
><DT
>9.4.1. <A
HREF="log-shipping-alternative.html#WARM-STANDBY-CONFIG"
>실행</A
></DT
><DT
>9.4.2. <A
HREF="log-shipping-alternative.html#WARM-STANDBY-RECORD"
>레코드 기반의 로그 전달</A
></DT
></DL
></DD
><DT
>9.5. <A
HREF="hot-standby.html"
>상시 대기</A
></DT
><DD
><DL
><DT
>9.5.1. <A
HREF="hot-standby.html#HOT-STANDBY-USERS"
>사용자 측면 개요</A
></DT
><DT
>9.5.2. <A
HREF="hot-standby.html#HOT-STANDBY-CONFLICT"
>쿼리 충돌 처리하기</A
></DT
><DT
>9.5.3. <A
HREF="hot-standby.html#HOT-STANDBY-ADMIN"
>관리자 측면 개요</A
></DT
><DT
>9.5.4. <A
HREF="hot-standby.html#HOT-STANDBY-PARAMETERS"
>상시 대기 관련 환경 설정 매개변수 설명</A
></DT
><DT
>9.5.5. <A
HREF="hot-standby.html#HOT-STANDBY-CAVEATS"
>주의사항</A
></DT
></DL
></DD
></DL
></DIV
><P
>  데이터베이스 서버는 하나의 운영 서버에서 장애가 생기면, 
  대기 서버가 빠르게 운영 서버로 운영될 수 있도록 구축할 수 있다.
  이것을 고가용성 high availability 이라고 한다.
  또한, 여러 대의 똑같은 자료를 사용하는 서버를 동시에 운영해서, 
  서버 부하를 분산해서 운영할 수도 있다.
  이것을 부하 분산 load balancing 이라고 한다.
  단순하게 이상적으로만 생각한다면 데이터베이스 서버도 별 문제 없이 
  여러 대의 같은 서버가 운영될 수 있을 것이다.
  정적인 웹 페이지를 제공하는 웹 서버라면 여러 대의 웹 서버를 구축해서
  여러 웹 블로우져 요청에 동시에 해당 페이지를 제공해서 
  부하를 분산하는 작업은 그리 어려운 일이 아니다.
  하지만 데이터베이스가 읽기 전용 형태로 서비스 되는 경우는 
  극히 드물다. 또한 하나의 요청에 내부적으로 자료를 읽고 쓰는 작업이 
  복잡하게 얽혀 있어 쓰기 작업은 다른 서버에서 그 변경된 자료를 
  읽는 서비스까지 제공해야하기 때문에 자료의 일관성 - 자료 정합성이라고 한다 - 을
  유지하는 작업이 꽤 난해한 작업이다.
 </P
><P
>  이 동기화 문제가 바로 병렬 데이터베이스 서버를 구축하기 어려운 
  가장 근본적인 문제다. 이 문제를 해결 하는 여러 방법들이 
  있으며, 서로 다른 개선책을 제시하고 있다. 
 </P
><P
>  한 가지 해결책은 오직 하나의 데이터베이스만 읽기/쓰기를 허용하는 것이다.
  이 때, 이 서버를 <I
CLASS="FIRSTTERM"
>마스터</I
> 또는 <I
CLASS="FIRSTTERM"
>프라이머리</I
> 서버라고 한다.
  마스터 서버의 변경된 내용이 그대로 내부적으로 동기화 되는 서버를 
  <I
CLASS="FIRSTTERM"
>대기(스탠바이)</I
> 또는 <I
CLASS="FIRSTTERM"
>슬래이브</I
> 서버라고 한다. 
  마스터 서버의 장애로 운영 제어권을 대기 서버로 남기기 전까지 
  대기 서버를 사용할 없는 환경을 <I
CLASS="FIRSTTERM"
>warm standby</I
> 서버 환경이라고 하고, 
  이와 달리 대기 서버를 읽기 전용으로 사용이 가능한 환경을 
  <I
CLASS="FIRSTTERM"
>hot standby</I
> 서버 환경이라고 한다.

 </P
><P
>  다른 한 가지 해결책은 동기화 문제의 안전성을 보장하는 것이다. 
  데이터 변경 트랜잭션이 발생 했을 때, 사용하는 모든 서버에서
  그 트랜잭션이 커밋 되었을 때만 그 트랜잭션을 유효한 트랜잭션으로 
  처리하는 방식이다. 이렇게 구현되면, 부하를 분산할 수 있으며, 
  하나의 서버에서 장애가 발생되어도 자료의 정합성은 유지될 수 있다. 
  문제는 서버 자료 동기화 방식을 비동기식으로 처리한다면, 
  동기화 작업에 지연이 생긴 상황에서 한 서버에서 장애가 발생하면, 
  자료 손실이 있을 수 있다.
  비동기방식을 사용하는 경우는 서버간 통신이 아주 느린 경우에 사용한다.
 </P
><P
>  또 다른 한 가지 해결책은 자료 자체를 나눠서 동기화 하는 방법이다.
  데이터베이스 단위이거나, 테이블 단위로 해당 부분만 동기화한다.
 </P
><P
>  이런 여러 방식 가운데 어떤 방식을 선택할 것인가는 서버의 운영 특성과 
  자료 동기화 하는 방식의 성능에 따라 고려 해야한다.
  일반적으로 기능과 성능간의 상관관계를 가진다.
  예를 들어, 느린 네트워크 환경에서는 전체 동기화 방식을 사용한다면, 
  성능은 절반 이하로 떨어질 것이지만, 이런 경우에 비동기화 방식을 사용한다면, 
  서버 성능 저하를 최소화 할 수 있다.
 </P
><P
>  다음은 장애처리(failover), 복제(replication), 부하 분산(load balancing)
  기능을 제공하는 여러 기법을 대략적으로 소개하고 있다.
  각 용어들의 자세한 설명은 <A
HREF="http://www.postgres-r.org/documentation/terms"
TARGET="_top"
>용어설명</A
>
        페이지를 참조하라.
 </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="continuous-archiving.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>처음으로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="different-replication-solutions.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>아카이브 모드 백업(Continuous Archiving)과, 특정시점 복구(Point-in-Time Recovery, PITR)</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="admin.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>여러 해결 기법 비교</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>