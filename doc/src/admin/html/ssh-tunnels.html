<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>SSH 터널을 사용하여 TCP/IP 연결 보호</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Agens SQL 1.0 문서"
HREF="index.html"><LINK
REL="UP"
TITLE="서버 설정 및 운용"
HREF="runtime.html"><LINK
REL="PREVIOUS"
TITLE="SSL을 사용한 TCP/IP 연결 보호"
HREF="ssl-tcp.html"><LINK
REL="NEXT"
TITLE="Windows에 이벤트 로그 등록"
HREF="event-log-registration.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
name="viewport"
content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"><META
NAME="creation"
CONTENT="2015-06-29T09:12:38"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Agens SQL 1.0 문서</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="SSL을 사용한 TCP/IP 연결 보호"
HREF="ssl-tcp.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="runtime.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>장 1. 서버 설정 및 운용</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="Windows에 이벤트 로그 등록"
HREF="event-log-registration.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="SSH-TUNNELS"
>1.10. <SPAN
CLASS="APPLICATION"
>SSH</SPAN
> 터널을 사용하여 TCP/IP 연결 보호</A
></H1
><P
>클라이언트와 <SPAN
CLASS="PRODUCTNAME"
>Agens SQL</SPAN
> 서버 간 네트워크 연결을 암호화하기 위해 <SPAN
CLASS="APPLICATION"
>SSH</SPAN
>를 사용할 수 있다. 
이것은 SSL이 불가능한 클라이언트에 대해서도 적절한 네트워크 연결 보호를 제공한다.
  </P
><P
>먼저 <SPAN
CLASS="APPLICATION"
>SSH</SPAN
> 서버가 <SPAN
CLASS="PRODUCTNAME"
>Agens SQL</SPAN
> 서버와 동일한 머신에서 실행 중인지 확인하고 
<TT
CLASS="COMMAND"
>ssh</TT
>를 사용하여 사용자로 로그인할 수 있는지 확인한다. 
그런 다음, 클라이언트 머신에서 아래와 같은 명령을 사용하여 안전한 터널을 생성할 수 있다.
</P><PRE
CLASS="PROGRAMLISTING"
>ssh -L 63333:localhost:5432 joe@foo.com</PRE
><P>
<TT
CLASS="OPTION"
>-L</TT
> 의 첫 번째 인자 63333은 터널 끝의 포트 번호이며, 미사용된 포트는 무엇이든 쓸 수 있다.
(IANA는 개인용으로 포트 49152 ~ 65535를 제공한다.) 두 번째 숫자 5432는 터널의 원거리 끝으로, 서버가 사용 중인 포트 번호이다. 
포트 번호 간의 이름 또는 IP 주소는 연결하려는 데이터베이스 서버가 있는 호스트이며, 이 예시에서는 <TT
CLASS="LITERAL"
>foo.com</TT
>이 로그인되어 있는 호스트이다.
이 터널로 데이터베이스 서버에 연결하기 위해 사용자는 로컬 머신의 63333 포트에 연결한다.
</P><PRE
CLASS="PROGRAMLISTING"
>psql -h localhost -p 63333 postgres</PRE
><P>
위 명령은 <TT
CLASS="LITERAL"
>localhost</TT
>에 연결하는 <TT
CLASS="LITERAL"
>foo.com</TT
> 호스트에서 사용자가 정말로 데이터베이스 서버에 대한 <TT
CLASS="LITERAL"
>joe</TT
> 
사용자인 것처럼 보이게 하고, 이 사용자와 호스트와의 연결에 대해 환경 설정된 대로 인증 절차를 사용한다. 
사실, <SPAN
CLASS="APPLICATION"
>SSH</SPAN
> 서버와 <SPAN
CLASS="PRODUCTNAME"
>Agens SQL</SPAN
> 서버 간 연결이 암호화되지 않으므로 서버는 연결이 SSL로 암호화되어 있지 않다고 생각하게 된다. 
동일한 머신에 있는 것이 아니라면 어떠한 보안 위험도 생기지 않을 것이다.
  </P
><P
>터널 설정을 적용하려면 사용자가 <TT
CLASS="COMMAND"
>ssh</TT
>를 사용하여 터미널 세션을 생성하려고 한 것처럼 
<TT
CLASS="LITERAL"
>joe@foo.com</TT
>로 <TT
CLASS="COMMAND"
>ssh</TT
>를 통한 연결을 할 수 있어야 한다.
  </P
><P
>   사용자는 다음과 같이 포트 포워딩을 설정할 수도 있다.
</P><PRE
CLASS="PROGRAMLISTING"
>ssh -L 63333:foo.com:5432 joe@foo.com</PRE
><P>
그러나 데이터베이스 서버의 <TT
CLASS="LITERAL"
>foo.com</TT
> 인터페이스에 연결이 들어오는데, 이 인터페이스는 기본 설정인 <TT
CLASS="LITERAL"
>listen_addresses =
   'localhost'</TT
>으로 열리지 않아, 사용자로 하여금 불편하다.
  </P
><P
>어떤 로그인 호스트를 통해 데이터베이스 서버에 <SPAN
CLASS="QUOTE"
>"hop"</SPAN
>해야 한다면 가능한 설정 중 하나는 다음과 같을 것이다.
</P><PRE
CLASS="PROGRAMLISTING"
>ssh -L 63333:db.foo.com:5432 joe@shell.foo.com</PRE
><P>
<TT
CLASS="LITERAL"
>shell.foo.com</TT
>에서 <TT
CLASS="LITERAL"
>db.foo.com</TT
>으로의 연결은 SSH 터널에서 암호화되지 않는다는 점에 유의해야 한다. 
SSH는 네트워크가 제한되어 있는 여러 가지 상황에서 환경 설정 가능하다.
자세한 내용은 SSH 문서를 참조 바란다.
  </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>작은 정보: </B
>    방금 설명한 개념과 유사한 절차를 사용하여 보안 터널을 제공할 수 있는 애플리케이션이 일부 존재한다.
   </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="ssl-tcp.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>처음으로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="event-log-registration.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>SSL을 사용한 TCP/IP 연결 보호</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="runtime.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="SYSTEMITEM"
>Windows</SPAN
>에 <SPAN
CLASS="APPLICATION"
>이벤트 로그</SPAN
> 등록</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>