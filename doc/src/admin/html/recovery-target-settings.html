<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>복구 시점 설정</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Agens SQL 1.0 문서"
HREF="index.html"><LINK
REL="UP"
TITLE="복구 환경설정"
HREF="recovery-config.html"><LINK
REL="PREVIOUS"
TITLE="아카이브 복구 설정"
HREF="archive-recovery-settings.html"><LINK
REL="NEXT"
TITLE="대기 서버 설정"
HREF="standby-settings.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
name="viewport"
content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"><META
NAME="creation"
CONTENT="2015-06-26T04:43:18"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Agens SQL 1.0 문서</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="아카이브 복구 설정"
HREF="archive-recovery-settings.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="recovery-config.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>장 10. 복구 환경설정</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="대기 서버 설정"
HREF="standby-settings.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RECOVERY-TARGET-SETTINGS"
>10.2. 복구 시점 설정</A
></H1
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><A
NAME="RECOVERY-TARGET"
></A
><TT
CLASS="VARNAME"
>recovery_target</TT
><TT
CLASS="LITERAL"
> = 'immediate'</TT
>
      </DT
><DD
><P
>        이 매개변수는 일관적인 상태가 되자마자 복구가 종료되도록 한다. 온라인 백업에서 복구하는 경우, 백업이 끝난 시점을 가리킨다.
       </P
><P
>        실질적으로 이는 문자열 매개변수지만 <TT
CLASS="LITERAL"
>'immediate'</TT
>
        가 쓸 수 있는 유일한 값이다.
       </P
></DD
><DT
><A
NAME="RECOVERY-TARGET-NAME"
></A
><TT
CLASS="VARNAME"
>recovery_target_name</TT
>
           (<TT
CLASS="TYPE"
>문자열</TT
>)</DT
><DD
><P
>            이 매개변수는 특정 복구 위치를 이름으로 지정한다.
                그 이름은 <CODE
CLASS="FUNCTION"
>pg_create_restore_point()</CODE
> 함수에서 
                지정한 이름이다. 
                대개  <TT
CLASS="VARNAME"
>recovery_target_name</TT
> 값이나 
                recovery target time, recovery target xid
                값 가운데 하나를 지정한다. 
                이 값을 지정하지 않으면 복구할 WAL 파일의 마지막까지 복구한다.
       </P
></DD
><DT
><A
NAME="RECOVERY-TARGET-TIME"
></A
><TT
CLASS="VARNAME"
>recovery_target_time</TT
>
           (<TT
CLASS="TYPE"
>timestamp</TT
>)</DT
><DD
><P
>            이 매개변수는 특정 시점을 시간으로 지정한다.
                대개 <TT
CLASS="VARNAME"
>recovery_target_time</TT
> 값이나 
                recovery-target-name, recovery-target-xid
                값 가운데 하나를 지정한다.
                이 값을 지정하지 않으면 복구할 WAL 파일의 마지막까지 복구한다.
                또한 recovery-target-inclusive 값에 영향을 받아서
                정확한 중지 위치가 결정되기도 한다.
       </P
></DD
><DT
><A
NAME="RECOVERY-TARGET-XID"
></A
><TT
CLASS="VARNAME"
>recovery_target_xid</TT
> (<TT
CLASS="TYPE"
>문자열</TT
>)</DT
><DD
><P
>            이 매개변수는 특정 트랜잭션 ID로 지정한다.
                지정한 이 트랜잭션 ID까지 복구 작업을 한다.
                트랜잭션 ID는 복구 서버의 마지막부터 차례대로 진행되기 때문에 
                결과적으로 백업의 트랜잭션 ID와 복구 서버의 트랜잭션 ID가 같지 
                않을 수 있음을 기억 해야한다.
                복구되는 트랜잭션은 지정한 트랜잭션 이전에 커밋된 모든 트랜잭션들이다.
                (선택적으로 지정한 트랜잭션도 포함될 수 있다.)
        대개 <TT
CLASS="VARNAME"
>recovery_target_xid</TT
> 값이나
        recovery target name,
        recovery target time 값 가운데 하나를 지정한다.
        이 값을 지정하지 않으면 복구할 WAL 파일의 마지막 트랜잭션까지 복구한다.
                또한 recovery target inclusive 값에 영향을 받아서
                정확한 중지 위치가 결정되기도 한다.
       </P
></DD
><DT
><A
NAME="RECOVERY-TARGET-INCLUSIVE"
></A
><TT
CLASS="VARNAME"
>recovery_target_inclusive</TT
>
        (<TT
CLASS="TYPE"
>boolean</TT
>)</DT
><DD
><P
>            위에서 지정한 지점을 포함해서 복구 할 것인지, 
                포함하지 않고 복구 할 것인지를 결정한다.
                기본값은 <TT
CLASS="LITERAL"
>true</TT
>이다.
                <TT
CLASS="LITERAL"
>false</TT
>로 지정하면 특정 지점(트랜잭션 ID나, 시간) 전까지만
                복구를 하고 복구 작업을 중지한다.
                이 값은 recovery target time, recovery target xid
                설정값의 작동에 영향을 준다.
       </P
></DD
><DT
><A
NAME="RECOVERY-TARGET-TIMELINE"
></A
><TT
CLASS="VARNAME"
>recovery_target_timeline</TT
>
        (<TT
CLASS="TYPE"
>문자열</TT
>)</DT
><DD
><P
>            특정 타임라인 번호를 지정한다.
                이 값을 지정하지 않으면 베이스 백업에서 사용한 타임라인의 다음 타임라인
                번호가 사용된다. 이 번호는 백업된 WAL 세그먼트 파일을 모아둔 디렉토리 안에 
                타임라인 이력 파일(일반적으로 0000000n.history 형태의 파일이다. 이 앞부분 숫자가
                타임라인 번호다.)들 가운데 하나의 번호를 선택한다.
        타임라인은 복구를 하고 운영 되었다가 같은 베이스 백업 기반으로 다시 복구를 해서 
                여러 타임라인이 생겼을 경우 특정 타임라인으로 복구 할 때 유용하게 사용된다.
                자세한 이야기는 <A
HREF="continuous-archiving.html#BACKUP-TIMELINES"
>8.3.5절</A
>을 참조하라.
       </P
></DD
><DT
><A
NAME="PAUSE-AT-RECOVERY-TARGET"
></A
><TT
CLASS="VARNAME"
>pause_at_recovery_target</TT
>
        (<TT
CLASS="TYPE"
>boolean</TT
>)</DT
><DD
><P
>            리플리케이션 대기 서버 환경에서 마지막 복구를 한 상태가 되면 
                복구 작업을 멈추고 대기할 것인지를 지정한다.
                기본값은 <TT
CLASS="LITERAL"
>true</TT
>이다.
                이 설정은 복구 작업을 마지막까지 했을 때 그 위치가 원하는 
                위치인지 확인 할 수 있는 쿼리를 실행할 수 있는지를 결정한다.
                임시 중지 상태라면 <CODE
CLASS="FUNCTION"
>pg_xlog_replay_resume()</CODE
> 함수를 
                이용해서 복구 작업을 이어서 다시 할 수 있다.
                복구 작업을 하다가 원하는 마지막 위치에서 멈출 수 없으면, 
                데이터베이스는 중지된다. 이 경우에는 복구 타켓을 마지막으로 
                바꾸고, 서버를 재실행 해서 복구 작업을 계속 해야한다.
       </P
><P
>            이 설정은 hot-standby 활성 상태에서만 사용할 수 있으며, 
                복구 타켓이 지정되어 있어야만 적용된다.
       </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="archive-recovery-settings.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>처음으로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="standby-settings.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>아카이브 복구 설정</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="recovery-config.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>대기 서버 설정</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>