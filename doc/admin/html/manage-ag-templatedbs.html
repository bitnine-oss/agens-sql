<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>템플릿 데이터베이스</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Agens SQL 1.0 문서"
HREF="index.html"><LINK
REL="UP"
TITLE="데이터베이스 관리"
HREF="managing-databases.html"><LINK
REL="PREVIOUS"
TITLE="데이터베이스 생성"
HREF="manage-ag-createdb.html"><LINK
REL="NEXT"
TITLE="데이터베이스 환경 설정"
HREF="manage-ag-config.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
name="viewport"
content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"><META
NAME="creation"
CONTENT="2015-06-26T04:43:18"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Agens SQL 1.0 문서</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="데이터베이스 생성"
HREF="manage-ag-createdb.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="managing-databases.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>장 5. 데이터베이스 관리</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="데이터베이스 환경 설정"
HREF="manage-ag-config.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="MANAGE-AG-TEMPLATEDBS"
>5.3. 템플릿 데이터베이스</A
></H1
><P
>   <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>는 실제로 기존 데이터베이스를 복사한다. 기본적으로 <TT
CLASS="LITERAL"
>template1</TT
>이라는 표준 시스템 데이터베이스를 복사한다. 
   따라서 해당 데이터베이스는 새 데이터베이스를 만드는 <SPAN
CLASS="QUOTE"
>"템플릿"</SPAN
>이다. 객체를 <TT
CLASS="LITERAL"
>template1</TT
>에 추가하면, 이 객체는 나중에 생성된 사용자 데이터베이스로 복사된다. 
   이 작업은 데이터베이스의 표준 객체 집합에 대한 사이트-로컬 수정을 가능하게 한다. 
   예를 들면, <TT
CLASS="LITERAL"
>template1</TT
>에서 프로시저 언어 <SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
>을 설치하는 경우 해당 데이터베이스를 생성할 때 추가적인 작업 없이 사용자 데이터베이스가 자동으로 사용 가능하게 된다.
  </P
><P
>   <TT
CLASS="LITERAL"
>template0</TT
>이라는 2차 표준 시스템 데이터베이스가 있다. 
   이 데이터베이스에는 <TT
CLASS="LITERAL"
>template1</TT
>의 초기 내용과 동일한 데이터가 포함되어 있다. 
   즉, <SPAN
CLASS="PRODUCTNAME"
>Agens SQL</SPAN
> 버전에 의해 사전 정의된 표준 객체만 포함되어 있다. 
   데이터베이스 클러스터를 초기화한 후에는 <TT
CLASS="LITERAL"
>template0</TT
>을 절대 변경하면 안 된다. 
   <TT
CLASS="LITERAL"
>template1</TT
> 대신 <TT
CLASS="LITERAL"
>template0</TT
>을 복사하도록 <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>를 실행하면 <TT
CLASS="LITERAL"
>template1</TT
>에서 사이트-로컬 추가가 없는 <SPAN
CLASS="QUOTE"
>"처녀"</SPAN
> 사용자 데이터베이스를 생성할 수 있다. 
   이것은 <TT
CLASS="LITERAL"
>pg_dump</TT
> 덤프를 복원할 때 특히 유용하다. 
   나중에 <TT
CLASS="LITERAL"
>template1</TT
>에 추가되었을 수도 있는 객체와 충돌 없이 덤프된 데이터베이스를 올바르게 재생성 하도록 처녀 데이터베이스에서 덤프 스크립트를 복원해야 한다.
  </P
><P
>   <TT
CLASS="LITERAL"
>template1</TT
> 대신 <TT
CLASS="LITERAL"
>template0</TT
>을 복사하는 일반적인 다른 이유는 <TT
CLASS="LITERAL"
>template1</TT
>의 복사는 동일한 설정을 사용해야 하지만 <TT
CLASS="LITERAL"
>template0</TT
>을 복사하는 경우에는 
   새 인코딩 및 로케일(locale) 설정을 지정할 수 있기 때문이다. 
   <TT
CLASS="LITERAL"
>template1</TT
>은 인코딩 또는 로케일(locale)에 관한 데이터를 포함하지만 <TT
CLASS="LITERAL"
>template0</TT
>은 그렇지 않다.
  </P
><P
>   <TT
CLASS="LITERAL"
>template0</TT
>을 복사하여 데이터베이스를 생성하려면 
</P><PRE
CLASS="PROGRAMLISTING"
>CREATE DATABASE <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
> TEMPLATE template0;</PRE
><P>
   SQL 환경에서 다음을 사용해야 한다.
</P><PRE
CLASS="PROGRAMLISTING"
>createdb -T template0 <TT
CLASS="REPLACEABLE"
><I
>dbname</I
></TT
></PRE
><P>
   또는 쉘에서 다음을 사용해야 한다.
  </P
><P
>   템플릿 데이터베이스를 추가적으로 생성하는 것이 가능하며, <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>의 경우 템플릿 이름을 지정하면 클러스터의 데이터베이스를 복사할 수도 있다. 
   그러나, 아직까지는 <SPAN
CLASS="QUOTE"
>"<TT
CLASS="COMMAND"
>COPY DATABASE</TT
>"</SPAN
>가 범용으로 사용되는 기능이 아니라는 점을 이해해야 한다. 이러한 제한은 복사 중인 소스 데이터베이스에 다른 세션을 연결할 수 없다는 것을 의미한다. 
   시작 시 다른 연결이 존재하면 <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>가 실패하며, 복사 명령 중에 소스 데이터베이스에 대한 새롭게 연결되는 것을 방지한다.
  </P
><P
>   데이터베이스별로 <TT
CLASS="LITERAL"
>pg_database</TT
>에는 <TT
CLASS="LITERAL"
>datistemplate</TT
> 칼럼 및 <TT
CLASS="LITERAL"
>datallowconn</TT
> 칼럼의 두 가지 유용한 플래그가 존재한다. 
   <TT
CLASS="LITERAL"
>datistemplate</TT
>를 설정하여 데이터베이스가 <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>의 템플릿임을 나타낼 수 있다. 
   이 플래그가 설정되면 <TT
CLASS="LITERAL"
>CREATEDB</TT
> 권한이 있는 사용자가 데이터베이스를 복제할 수 있다. 
   설정되지 않으면 수퍼유저와 데이터베이스 소유자만 복제할 수 있다. 
   <TT
CLASS="LITERAL"
>datallowconn</TT
>이 false인 경우 해당 데이터베이스에 대한 새로운 연결이 허용되지 않는다(단, 플래그를 false로 설정해도 기존 세션은 중단되지 않는다). 
   <TT
CLASS="LITERAL"
>template0</TT
> 데이터베이스는 수정 방지를 위해 일반적으로 <TT
CLASS="LITERAL"
>datallowconn = false</TT
>로 표시된다. 
   양쪽 <TT
CLASS="LITERAL"
>template0</TT
> 및 <TT
CLASS="LITERAL"
>template1</TT
>은 <TT
CLASS="LITERAL"
>datistemplate = true</TT
>로 항상 표시되어야 한다.
  </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>참고: </B
>    <TT
CLASS="LITERAL"
>template1</TT
> 및 <TT
CLASS="LITERAL"
>template0</TT
>은 이름 <TT
CLASS="LITERAL"
>template1</TT
>이 <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>의 기본 소스 데이터베이스 이름이라는 사실 외에는 특별한 상태를 나타내지 않는다. 
    예를 들면, <TT
CLASS="LITERAL"
>template1</TT
>를 삭제하고 부작용 없이 <TT
CLASS="LITERAL"
>template0</TT
>으로 재생성 가능하다. 이러한 작업 과정은 <TT
CLASS="LITERAL"
>template1</TT
>에 잘못 추가한 것이 많을 경우에 좋다.
    (<TT
CLASS="LITERAL"
>template1</TT
>을 삭제하려면 <TT
CLASS="LITERAL"
>pg_database.datistemplate = false</TT
>여야 한다.)
   </P
><P
>    데이터베이스 클러스터가 초기화될 때 <TT
CLASS="LITERAL"
>postgres</TT
> 데이터베이스도 생성된다. 
    이 데이터베이스는 연결하는 사용자 및 애플리케이션의 기본 데이터베이스임을 의미한다. 
    이것은 단순히 <TT
CLASS="LITERAL"
>template1</TT
>의 사본이며, 필요시 삭제 및 재생성이 가능하다.
   </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="manage-ag-createdb.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>처음으로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="manage-ag-config.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>데이터베이스 생성</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="managing-databases.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>데이터베이스 환경 설정</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>