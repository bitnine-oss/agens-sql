<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>role 멤버십</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Agens SQL 1.0 문서"
HREF="index.html"><LINK
REL="UP"
TITLE="데이터베이스 role"
HREF="user-manag.html"><LINK
REL="PREVIOUS"
TITLE="role 속성"
HREF="role-attributes.html"><LINK
REL="NEXT"
TITLE="함수 및 트리거 보안"
HREF="perm-functions.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
name="viewport"
content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"><META
NAME="creation"
CONTENT="2015-06-26T04:43:18"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Agens SQL 1.0 문서</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="role 속성"
HREF="role-attributes.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="user-manag.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>장 4. 데이터베이스 role</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="함수 및 트리거 보안"
HREF="perm-functions.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ROLE-MEMBERSHIP"
>4.3. role 멤버십</A
></H1
><P
>   권한 관리의 편의상 사용자를 그룹으로 묶는 것이 편리할 수 있다. 이렇게 하면 권한을 그룹 단위로 부여하거나 취소할 수 있다. 
   <SPAN
CLASS="PRODUCTNAME"
>Agens SQL</SPAN
>에서 이것은 그룹을 나타내는 role을 생성한 다음, 그룹 role의 <I
CLASS="FIRSTTERM"
>멤버십</I
>을 개별 사용자 role에 부여하면 된다.
  </P
><P
>   그룹 role을 설정하려면 먼저 role을 생성해야 한다.
</P><PRE
CLASS="SYNOPSIS"
>CREATE ROLE <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>;</PRE
><P>
   일반적으로 그룹으로 사용되는 role은 <TT
CLASS="LITERAL"
>LOGIN</TT
> 속성이 없으며, 원하면 설정은 할 수 있다.
  </P
><P
>   그룹 role이 존재하는 경우 GRANT 및 REVOKE 명령을 사용하여 멤버를 추가 및 삭제할 수 있다.
</P><PRE
CLASS="SYNOPSIS"
>GRANT <TT
CLASS="REPLACEABLE"
><I
>group_role</I
></TT
> TO <TT
CLASS="REPLACEABLE"
><I
>role1</I
></TT
>, ... ;
REVOKE <TT
CLASS="REPLACEABLE"
><I
>group_role</I
></TT
> FROM <TT
CLASS="REPLACEABLE"
><I
>role1</I
></TT
>, ... ;</PRE
><P>
   다른 그룹 role에도 멤버십을 부여할 수 있다(그룹 role과 비 그룹 role 사이에 실제로는 구분이 없음). 
   데이터베이스는 순환식 멤버십 루프의 설정을 허용하지 않는다. 또한, role의 멤버십을 <TT
CLASS="LITERAL"
>PUBLIC</TT
>에 부여하는 것도 허용하지 않는다.
  </P
><P
>   그룹 role의 멤버는 두 가지 방법으로 role의 권한을 사용할 수 있다. 첫째, 그룹의 모든 멤버는 명시적으로 SET ROLE을 수행하여 일시적으로 그룹 role이 <SPAN
CLASS="QUOTE"
>"된다"</SPAN
>. 
   이 상태에서 데이터베이스 세션은 원래의 로그인 role이 아닌 그룹 role에 대한 액세스 권한을 가지며, 생성된 데이터베이스 개체는 로그인 role이 아닌 그룹 role이 소유하는 것으로 간주된다. 
   둘째, <TT
CLASS="LITERAL"
>INHERIT</TT
> 속성이 있는 멤버 role은 해당 role에서 상속된 모든 권한을 비롯하여 멤버로서 role의 권한을 자동으로 갖는다. 예를 들면, 다음을 실행했다고 가정하자.
</P><PRE
CLASS="PROGRAMLISTING"
>CREATE ROLE joe LOGIN INHERIT;
CREATE ROLE admin NOINHERIT;
CREATE ROLE wheel NOINHERIT;
GRANT admin TO joe;
GRANT wheel TO admin;</PRE
><P>
   <TT
CLASS="LITERAL"
>joe</TT
> role로 연결한 직후에 데이터베이스 세션은 <TT
CLASS="LITERAL"
>joe</TT
>에 직접 부여된 권한 외에도, <TT
CLASS="LITERAL"
>joe</TT
>는 <TT
CLASS="LITERAL"
>admin</TT
>의 권한을 <SPAN
CLASS="QUOTE"
>"상속 받기"</SPAN
> 때문에 <TT
CLASS="LITERAL"
>admin</TT
>에 부여된 권한도 사용한다. 
   그러나, <TT
CLASS="LITERAL"
>joe</TT
>가 간접적으로 <TT
CLASS="LITERAL"
>wheel</TT
>의 멤버지만 이 멤버십은 <TT
CLASS="LITERAL"
>NOINHERIT</TT
> 속성을 갖는 <TT
CLASS="LITERAL"
>admin</TT
>을 통한 것이므로 wheel에 부여된 권한은 사용할 수 없다. 다음 명령을 실행한 후,
</P><PRE
CLASS="PROGRAMLISTING"
>SET ROLE admin;</PRE
><P>
   세션은 <TT
CLASS="LITERAL"
>admin</TT
>에 부여된 이러한 권한만 사용하고 <TT
CLASS="LITERAL"
>joe</TT
>에 부여된 권한은 사용하지 않는다. 다음 명령을 실행한 후,
</P><PRE
CLASS="PROGRAMLISTING"
>SET ROLE wheel;</PRE
><P>
   세션은 <TT
CLASS="LITERAL"
>wheel</TT
>에 부여된 이러한 권한만 사용하고 <TT
CLASS="LITERAL"
>joe</TT
> 또는 <TT
CLASS="LITERAL"
>admin</TT
>에 부여된 권한은 사용하지 않는다. 
   원래의 권한 상태는 다음 중 하나를 사용하면 복원된다.
</P><PRE
CLASS="PROGRAMLISTING"
>SET ROLE joe;
SET ROLE NONE;
RESET ROLE;</PRE
><P>
  </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>참고: </B
>    <TT
CLASS="COMMAND"
>SET ROLE</TT
> 명령은 원래 로그인 role이 직간접적으로 멤버인 모든 role을 선택할 수 있도록 항상 허용한다. 
    따라서 위의 예시에서, <TT
CLASS="LITERAL"
>wheel</TT
>이 되기 전에 꼭 <TT
CLASS="LITERAL"
>admin</TT
>이어야 할 필요는 없다.
   </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>참고: </B
>    SQL 표준에서 사용자와 role은 명확히 구분되며, role은 권한을 자동으로 상속 받지만, 사용자는 그렇지 않다. 
    이는 SQL 사용자로서 사용되는 role에게는 NOINHERIT 속성을 부여하고, SQL role로 사용되는 role에게는 <TT
CLASS="LITERAL"
>INHERIT</TT
> 속성을 부여한다. 
    그러나, 사용자에게 항상 멤버인 그룹에 부여된 권한이 있는 8.1 릴리스 이전 버전과의 호환성 때문에 <SPAN
CLASS="PRODUCTNAME"
>Agens SQL</SPAN
>은 기본적으로 모든 role에 <TT
CLASS="LITERAL"
>INHERIT</TT
> 속성을 부여한다.
   </P
></BLOCKQUOTE
></DIV
><P
>   role 속성 <TT
CLASS="LITERAL"
>LOGIN</TT
> 및 <TT
CLASS="LITERAL"
>SUPERUSER</TT
>,
   <TT
CLASS="LITERAL"
>CREATEDB</TT
>, <TT
CLASS="LITERAL"
>CREATEROLE</TT
>은 특수한 권한으로 생각될 수 있지만 데이터베이스 개체의 일상적인 권한으로 상속되지 않는다. 
   속성을 사용하려면 이러한 속성 중 하나를 보유한 특정 role에 실제로 <TT
CLASS="COMMAND"
>SET ROLE</TT
>을 해야 한다. 위의 예시에 이어서, <TT
CLASS="LITERAL"
>CREATEDB</TT
> 및 <TT
CLASS="LITERAL"
>CREATEROLE</TT
>을 <TT
CLASS="LITERAL"
>admin</TT
> role에 부여할 수도 있다. 
   그러면, <TT
CLASS="LITERAL"
>joe</TT
> role로 연결하는 세션은 이러한 권한을 즉각 갖지는 못하며, <TT
CLASS="COMMAND"
>SET ROLE admin</TT
>을 수행한 이후에만 권한이 부여된다.
  </P
><P
>  </P
><P
>   그룹 role을 소멸하려면 DROP ROLE을 사용해야 한다.
</P><PRE
CLASS="SYNOPSIS"
>DROP ROLE <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
>;</PRE
><P>
   그룹 role의 멤버십이 자동 취소된다(단, 멤버 role은 영향을 받지 않음). 
   그룹 role이 소유한 개체를 먼저 삭제하거나 다른 소유자에게 재할당해야 하며, 그룹 role에 부여된 권한은 취소해야 한다는 점을 유의해야 한다.
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="role-attributes.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>처음으로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="perm-functions.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>role 속성</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="user-manag.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>함수 및 트리거 보안</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>