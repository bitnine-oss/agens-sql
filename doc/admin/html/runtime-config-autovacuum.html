<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>자동 Vacuuming</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Agens SQL 1.0 문서"
HREF="index.html"><LINK
REL="UP"
TITLE="서버 환경 설정"
HREF="runtime-config.html"><LINK
REL="PREVIOUS"
TITLE="실시간 통계"
HREF="runtime-config-statistics.html"><LINK
REL="NEXT"
TITLE="클라이언트 연결 기본값"
HREF="runtime-config-client.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
name="viewport"
content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"><META
NAME="creation"
CONTENT="2015-06-26T04:43:18"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Agens SQL 1.0 문서</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="실시간 통계"
HREF="runtime-config-statistics.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="runtime-config.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>장 2. 서버 환경 설정</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="클라이언트 연결 기본값"
HREF="runtime-config-client.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RUNTIME-CONFIG-AUTOVACUUM"
>2.10. 자동 Vacuuming</A
></H1
><P
>이 설정은 <I
CLASS="FIRSTTERM"
>autovacuum</I
> 기능의 동작을 제어한다. 자세한 내용은 <A
HREF="routine-vacuuming.html#AUTOVACUUM"
>7.1.6절</A
>을 참조 바란다.
 </P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><A
NAME="GUC-AUTOVACUUM"
></A
><TT
CLASS="VARNAME"
>autovacuum</TT
> (<TT
CLASS="TYPE"
>boolean</TT
>)&#13;</DT
><DD
><P
>서버가 autovacuum 런처 데몬을 실행해야 하는지를 제어한다. 
기본값은 on이지만, autovacuum이 작동되게 하려면 <A
HREF="runtime-config-statistics.html#GUC-TRACK-COUNTS"
>track_counts</A
>도 활성화해야 한다. 
이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다.
 </P
><P
>이 매개변수가 비활성화된 경우 필요시 시스템이 autovacuum 프로세스를 실행하여 트랜잭션 ID 랩어라운드를 방지한다. 자세한 내용은 <A
HREF="routine-vacuuming.html#VACUUM-FOR-WRAPAROUND"
>7.1.5절</A
>을 참조 바란다.
 </P
></DD
><DT
><A
NAME="GUC-LOG-AUTOVACUUM-MIN-DURATION"
></A
><TT
CLASS="VARNAME"
>log_autovacuum_min_duration</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>최소한 지정된 밀리초 동안 autovacuum에 의해 실행된 각각의 액션이 로깅되게 한다. 
0으로 설정하면 모든 autovacuum 액션이 로깅된다. -1(기본값)은 autovacuum 액션을 비활성화한다. 
예를 들면, 이것을 <TT
CLASS="LITERAL"
>250ms</TT
>로 설정한 경우 250ms 이상 지속되는 모든 자동 vacuums 및 분석이 로깅된다. 
또한 이 매개변수가 <TT
CLASS="LITERAL"
>-1</TT
> 이외의 다른 값으로 설정된 경우 잠금 충돌이 존재하여 autovacuum 액션을 건너뛰면 메시지가 로깅된다. 
이 매개변수를 활성화하면 autovacuum 작업을 추적하는 데 도움이 된다. 
이 설정은 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정할 수 있다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-MAX-WORKERS"
></A
><TT
CLASS="VARNAME"
>autovacuum_max_workers</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>한 번에 실행할 수 있는 autovacuum 프로세스(autovacuum 제외)의 최대 수를 지정한다. 기본값은 3이다. 
이 매개변수는 서버 시작 시에만 설정 가능하다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-NAPTIME"
></A
><TT
CLASS="VARNAME"
>autovacuum_naptime</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>주어진 데이터베이스에서 autovacuum 실행 사이의 최소 지연을 지정한다. 
각 라운드에서 데몬은 데이터베이스를 검사하고 필요 시 해당 데이터베이스 테이블에 대해 <TT
CLASS="COMMAND"
>VACUUM</TT
> 및 <TT
CLASS="COMMAND"
>ANALYZE</TT
> 명령을 실행한다. 
지연은 초 단위로 측정되며 기본값은 1분이다(<TT
CLASS="LITERAL"
>1min</TT
>). 이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-VACUUM-THRESHOLD"
></A
><TT
CLASS="VARNAME"
>autovacuum_vacuum_threshold</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>임의의 테이블에서 <TT
CLASS="COMMAND"
>VACUUM</TT
>을 트리거하는 데 필요한 업데이트 또는 삭제된 튜플의 최소 수를 지정한다. 
기본값은 50튜플이다. 이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다. 
이 설정은 저장소 매개변수를 변경함으로써 개별 테이블에 오버라이드할 수 있다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-ANALYZE-THRESHOLD"
></A
><TT
CLASS="VARNAME"
>autovacuum_analyze_threshold</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>임의의 테이블에서 <TT
CLASS="COMMAND"
>ANALYZE</TT
>을 트리거하는 데 필요한 삽입, 업데이트 또는 삭제된 튜플의 최소 수를 지정한다. 
기본값은 50튜플이다. 이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다. 
이 설정은 저장소 매개변수를 변경함으로써 개별 테이블에 오버라이드할 수 있다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-VACUUM-SCALE-FACTOR"
></A
><TT
CLASS="VARNAME"
>autovacuum_vacuum_scale_factor</TT
> (<TT
CLASS="TYPE"
>floating point</TT
>)&#13;</DT
><DD
><P
><TT
CLASS="COMMAND"
>VACUUM</TT
>의 트리거 여부를 결정할 때 <TT
CLASS="VARNAME"
>autovacuum_vacuum_threshold</TT
>에 추가할 테이블 크기의 부분을 지정한다. 
기본값은 0.2이다(테이블 크기의 20%). 이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다. 
이 설정은 저장소 매개변수를 변경함으로써 개별 테이블에 오버라이드할 수 있다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-ANALYZE-SCALE-FACTOR"
></A
><TT
CLASS="VARNAME"
>autovacuum_analyze_scale_factor</TT
> (<TT
CLASS="TYPE"
>floating point</TT
>)&#13;</DT
><DD
><P
><TT
CLASS="COMMAND"
>ANALYZE</TT
>의 트리거 여부를 결정할 때 <TT
CLASS="VARNAME"
>autovacuum_analyze_threshold</TT
>에 추가할 테이블 크기의 부분을 지정한다. 
기본값은 0.1이다(테이블 크기의 10%). 이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다. 
이 설정은 저장소 매개변수를 변경함으로써 개별 테이블에 오버라이드할 수 있다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-FREEZE-MAX-AGE"
></A
><TT
CLASS="VARNAME"
>autovacuum_freeze_max_age</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>테이블 내 트랜잭션 ID 랩어라운드를 방지하기 위해 <TT
CLASS="COMMAND"
>VACUUM</TT
> 명령을 강제로 실행하기 전에 테이블의 <TT
CLASS="STRUCTNAME"
>pg_class</TT
>.<TT
CLASS="STRUCTFIELD"
>relfrozenxid</TT
> 필드가 도달할 수 있는 연령(트랜잭션에서)을 지정한다. 
autovacuum이 달리 비활성화된 경우에도 시스템은 랩어라운드를 방지하기 위해 autovacuum 프로세스를 실행한다는 점에 유의해야 한다.
 </P
><P
>Vacuum은 pg_clog 서브 디렉토리에서 오래된 파일도 제거하는데, 이는 기본값이 2억 트랜잭션으로 상대적으로 낮기 때문이다. 
이 매개변수는 서버 시작 시에만 설정할 수 있지만 저장소 매개변수를 변경함으로써 개별 테이블에 대한 설정을 줄일 수 있다. 자세한 내용은 23.1.5절을 참조 바란다.
Vacuum also allows removal of old files from the
<TT
CLASS="FILENAME"
>pg_clog</TT
> subdirectory, which is why the default
is a relatively low 200 million transactions.
This parameter can only be set at server start, but the setting
can be reduced for individual tables by
changing storage parameters.
For more information see <A
HREF="routine-vacuuming.html#VACUUM-FOR-WRAPAROUND"
>7.1.5절</A
>.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-MULTIXACT-FREEZE-MAX-AGE"
></A
><TT
CLASS="VARNAME"
>autovacuum_multixact_freeze_max_age</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>테이블 내 multixact ID 랩어라운드를 방지하기 위해 <TT
CLASS="COMMAND"
>VACUUM</TT
> 명령을 강제하기 전에 테이블의 <TT
CLASS="STRUCTNAME"
>pg_class</TT
>.<TT
CLASS="STRUCTFIELD"
>relminmxid</TT
> 필드가 도달할 수 있는 연령(multixacts에서)을 지정한다. 
autovacuum이 달리 비활성화된 경우에도 시스템은 랩어라운드를 방지하기 위해 autovacuum 프로세스를 실행한다는 점에 유의해야 한다.
 </P
><P
>Vacuuming multixacts는 <TT
CLASS="FILENAME"
>pg_multixact/members</TT
> 및 <TT
CLASS="FILENAME"
>pg_multixact/offsets</TT
> 서브 디렉토리에서 오래된 파일도 제거하는데, 이는 기본값이 4억 multixacts로 상대적으로 낮기 때문이다. 
이 매개변수는 서버 시작 시에만 설정할 수 있지만 저장소 매개변수를 변경함으로써 개별 테이블에 대한 설정을 줄일 수 있다. 자세한 내용은 <A
HREF="routine-vacuuming.html#VACUUM-FOR-MULTIXACT-WRAPAROUND"
>7.1.5.1절</A
>을 참조 바란다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-VACUUM-COST-DELAY"
></A
><TT
CLASS="VARNAME"
>autovacuum_vacuum_cost_delay</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>자동 <TT
CLASS="COMMAND"
>VACUUM</TT
> 명령에 사용되는 비용 지연 값을 지정한다. -1을 지정하면 일반 <A
HREF="runtime-config-resource.html#GUC-VACUUM-COST-DELAY"
>vacuum_cost_delay</A
> 값이 사용된다. 
기본값은 20밀리초이다. 이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다. 
이 설정은 저장소 매개변수를 변경함으로써 개별 테이블에 오버라이드할 수 있다.
 </P
></DD
><DT
><A
NAME="GUC-AUTOVACUUM-VACUUM-COST-LIMIT"
></A
><TT
CLASS="VARNAME"
>autovacuum_vacuum_cost_limit</TT
> (<TT
CLASS="TYPE"
>integer</TT
>)&#13;</DT
><DD
><P
>자동 <TT
CLASS="COMMAND"
>VACUUM</TT
> 명령에 사용되는 비용 제한 값을 지정한다. 
-1을 지정하면(기본값) 일반 <A
HREF="runtime-config-resource.html#GUC-VACUUM-COST-LIMIT"
>vacuum_cost_limit</A
> 값이 사용된다. 
실행 중인 autovacuum workers가 하나 이상 있을 경우 각 worker 제한의 합계가 이 변수의 제한값을 초과하지 않도록 값이 비례 분배된다. 
이 매개변수는 <TT
CLASS="FILENAME"
>postgresql.conf</TT
> 파일 또는 서버 커맨드 라인에서만 설정 가능하다. 
이 설정은 저장소 매개변수를 변경함으로써 개별 테이블에 오버라이드할 수 있다.
 </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="runtime-config-statistics.html"
ACCESSKEY="P"
>이전</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>처음으로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="runtime-config-client.html"
ACCESSKEY="N"
>다음</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>실시간 통계</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="runtime-config.html"
ACCESSKEY="U"
>위로</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>클라이언트 연결 기본값</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>