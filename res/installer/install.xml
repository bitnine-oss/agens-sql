<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<!-- 
    A sample installation file.
    Use it as a base for your own installers :-)
    
    To compile it :
    - go in the bin directory where you installed IzPack
    - call "compile ../sample/install.xml -b ../sample"
-->

<installation version="1.0">

    <!-- 
        The info section.
        The meaning of the tags should be natural ...
    -->
    <info>
        <appname>Agens-SQL</appname>
        <appversion>1.0.0</appversion>
        <authors>
            <author name="Bitnine" email="ksjang@bitnine.co.kr"/>
        </authors>
        <url>http://www.bitnine.co.kr</url>
    </info>

    <!-- 
        The gui preferences indication.
        Sets the installer window to 640x480. It will not be able to change the size.
    -->
    <guiprefs width="640" height="480" resizable="yes"/>

    <!-- 
        The locale section.
        Asks here to include the English and French langpacks.
    -->
    <locale>
        <langpack iso3="eng"/>
        <langpack iso3="kor"/>
    </locale>

    <!-- 
        The resources section.
        The ids must be these ones if you want to use the LicencePanel and/or the InfoPanel.
    -->
    <resources>
        <res id="LicencePanel.licence" src="res/installer/Licence.txt"/>
        <res id="InfoPanel.info" src="res/installer/Readme.txt"/>
	<res id="userInputSpec.xml" src="res/installer/userInputSpec.xml" />
    </resources>



    <variables>
	<variable name="agens-sql.superuser" value="agens" />
	<variable name="agens-sql.login_db" value="agens-sql" />
	<variable name="agens-sql.data_path" value="$INSTALL_PATH/pgsql/data" />
	<variable name="agens-sql.password" value="" />
        <variable name="agens-sql.port" value="5456" />
    </variables>




    <!-- 
        The panels section.
        We indicate here which panels we want to use. The order will be respected.
    -->
    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="InfoPanel"/>
        <panel classname="LicencePanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="PacksPanel"/>
	<panel classname="UserInputPanel" id="panel.path" />
        <panel classname="InstallPanel"/>
        <panel classname="FinishPanel"/>
    </panels>



<!-- pgsql -->
    <packs>
        <pack name="pgsql" required="yes">
            <description>PostgreSQL</description>
            <fileset dir="/usr/local/pgsql" targetdir="$INSTALL_PATH/pgsql"/>

            <file src="res/installer/Licence.txt" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/Readme.txt" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/install.xml" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/userInputSpec.xml" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/compile_pgsql.sh" targetdir="$INSTALL_PATH/installer/res"/>


            <executable targetfile="$INSTALL_PATH/installer/res/compile_pgsql.sh" stage="postinstall" keep="true"/>
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_pgsql.sh"/>
        </pack>

<!-- pgpool -->
	<pack name="pgpool" required="no">
	    <description>pgpool-II</description>
	    <fileset dir="/usr/local/pgpool" targetdir="$INSTALL_PATH/pgpool"/>

            <file src="res/installer/compile_pgpool.sh" targetdir="$INSTALL_PATH/installer/res"/>
	    <executable targetfile="$INSTALL_PATH/installer/res/compile_pgpool.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_pgpool.sh"/>
	</pack>
    
<!-- postgis -->
        <pack name="postgis" required="no">
            <description>postgis</description>
            <fileset dir="postgis-2.1.6" targetdir="$INSTALL_PATH/postgis"/>

            <file src="res/installer/compile_postgis.sh" targetdir="$INSTALL_PATH/installer/res"/>
            <executable targetfile="$INSTALL_PATH/installer/res/compile_postgis.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_postgis.sh"/>
        </pack>


<!-- pgbouncer -->
        <pack name="pgbouncer" required="no">
            <description>pgbouncer</description>
            <fileset dir="/usr/local/pgbouncer" targetdir="$INSTALL_PATH/pgbouncer"/>

            <file src="res/installer/compile_pgbouncer.sh" targetdir="$INSTALL_PATH/installer/res"/>
            <executable targetfile="$INSTALL_PATH/installer/res/compile_pgbouncer.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_pgbouncer.sh"/>
        </pack>



<!-- skytools -->
        <pack name="skytools" required="no">
            <description>skytools</description>
            <fileset dir="/usr/local/skytools" targetdir="$INSTALL_PATH/skytools"/>

            <file src="res/installer/compile_skytools.sh" targetdir="$INSTALL_PATH/installer/res"/>
            <executable targetfile="$INSTALL_PATH/installer/res/compile_skytools.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_skytools.sh"/>
        </pack>





<!-- pg_hint_plan -->
        <pack name="pg_hint_plan" required="no">
            <description>pg_hint_plan</description>
            <fileset dir="pg_hint_plan94-1.1.3" targetdir="$INSTALL_PATH/pg_hint_plan"/>


            <file src="res/installer/compile_pg_hint_plan.sh" targetdir="$INSTALL_PATH/installer/res"/>
            <executable targetfile="$INSTALL_PATH/installer/res/compile_pg_hint_plan.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_pg_hint_plan.sh"/>
        </pack>





<!-- plproxy -->
        <pack name="plproxy" required="no">
            <description>plproxy</description>
            <fileset dir="plproxy" targetdir="$INSTALL_PATH/plproxy"/>

            <file src="res/installer/compile_plproxy.sh" targetdir="$INSTALL_PATH/installer/res"/>
            <executable targetfile="$INSTALL_PATH/installer/res/compile_plproxy.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_plproxy.sh"/>
        </pack>


    </packs>

</installation>
