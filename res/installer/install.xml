<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>
<installation version="1.0">

    <info>
        <appname>Agens-SQL</appname>
        <appversion>1.0.0</appversion>
        <authors>
            <author name="Bitnine" email="ksjang@bitnine.co.kr"/>
        </authors>
    <url>http://www.bitnine.co.kr</url>
    </info>

    <guiprefs width="640" height="480" resizable="yes">
    </guiprefs>

    <locale>
        <langpack iso3="kor"/>
    </locale>

    <resources>
        <res id="LicencePanel.licence" src="res/installer/Licence.txt"/>
        <res id="InfoPanel.info" src="res/installer/Readme.txt"/>
        <res id="userInputSpec.xml" src="res/installer/userInputSpec.xml" />
        <res id="CustomLangpack.xml_kor" src="res/installer/Agens-SQL_CustomLangpack.xml_kor"/>
        <res id="packsLang.xml_kor" src="res/installer/Agens-SQL_PacksLang.xml_kor"/>
    </resources>

    <variables>
        <variable name="agens-sql.data_path" value="$INSTALL_PATH/pgsql/data" />
        <variable name="agens-sql.password" value="" />
        <variable name="agens-sql.port" value="5456" />
    </variables>

    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="InfoPanel"/>
        <panel classname="LicencePanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="PacksPanel"/>
        <panel classname="UserInputPanel" id="panel.path" />
        <panel classname="InstallPanel"/>
        <panel classname="FinishPanel"/>
    </panels>

    <packs>

        <!-- pgsql -->
        <pack name="pgsql" id="pgsql" required="yes" >
            <description>PostgreSQL</description>
            <fileset dir="agens_temp/pgsql" targetdir="$INSTALL_PATH/pgsql">
                <exclude name="bin/postmaster" />
            </fileset>
            <executable targetfile="$INSTALL_PATH/pgsql/bin/clusterdb" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/createdb" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/createlang" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/createuser" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/dropdb" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/droplang" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/dropuser" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/ecpg" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/initdb" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/oid2name" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_archivecleanup" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_basebackup" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_config" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_controldata" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_ctl" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_dump" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_dumpall" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_isready" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_receivexlog" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_recvlogical" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_resetxlog" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_restore" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_standby" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_test_fsync" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_test_timing" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_upgrade" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pg_xlogdump" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pgbench" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pltcl_delmod" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pltcl_listmod" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/pltcl_loadmod" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/postgres" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/psql" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/reindexdb" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/vacuumdb" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/bin/vacuumlo" keep="true" />

            <file src="res/installer/Licence.txt" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/Readme.txt" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/install.xml" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/userInputSpec.xml" targetdir="$INSTALL_PATH/installer/res"/>
            <file src="res/installer/compile_pgsql.sh" targetdir="$INSTALL_PATH/installer/res"/>

            <executable targetfile="$INSTALL_PATH/installer/res/compile_pgsql.sh" stage="postinstall" keep="true"/>
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_pgsql.sh"/>
        </pack>


        <!-- pgpool -->
        <pack name="pgpool" id="pgpool" required="no">
            <description>pgpool</description>
            <fileset dir="agens_temp/pgpool" targetdir="$INSTALL_PATH/pgpool">
                <exclude name="lib/libpcp.so" />
                <exclude name="lib/libpcp.so.0" />
            </fileset>
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_attach_node" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_detach_node" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_node_count" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_node_info" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_pool_status" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_proc_count" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_proc_info" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_promote_node" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_recovery_node" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_stop_pgpool" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_systemdb_info" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pcp_watchdog_info" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pg_md5" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/bin/pgpool" keep="true" />

            <executable targetfile="$INSTALL_PATH/pgpool/lib/libpcp.la" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgpool/lib/libpcp.so.0.0.0" keep="true" />

            <file src="res/installer/compile_pgpool.sh" targetdir="$INSTALL_PATH/installer/res"/>
            <executable targetfile="$INSTALL_PATH/installer/res/compile_pgpool.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_pgpool.sh"/>
        </pack>


        <!-- postgis -->
        <pack name="postgis" id="postgis" required="no">
            <description>postgis</description>

            <file src="postgis-2.1.6/postgis/legacy.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/legacy_gist.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/legacy_minimal.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/postgis.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/doc/postgis_comments.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/postgis_upgrade_20_21.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/postgis_upgrade_21_minor.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/extensions/postgis/sql_bits/raster_comments.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/raster/rt_pg/rtpostgis.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/raster/rt_pg/rtpostgis_legacy.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/raster/rt_pg/rtpostgis_upgrade_20_21.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/raster/rt_pg/rtpostgis_upgrade_21_minor.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/spatial_ref_sys.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/topology/topology.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/extensions/postgis_topology/sql_bits/topology_comments.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/topology/topology_upgrade_21_minor.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/uninstall_postgis.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/uninstall_legacy.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/postgis/uninstall_sfcgal.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/raster/rt_pg/uninstall_rtpostgis.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <file src="postgis-2.1.6/topology/uninstall_topology.sql" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />

            <file src="postgis-2.1.6/utils/postgis_restore.pl" targetdir="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1" />
            <executable targetfile="$INSTALL_PATH/pgsql/share/contrib/postgis-2.1/postgis_restore.pl" keep="true" />

            <file src="postgis-2.1.6/postgis/postgis-2.1.so" targetdir="$INSTALL_PATH/pgsql/lib" />
            <file src="postgis-2.1.6/raster/rt_pg/rtpostgis-2.1.so" targetdir="$INSTALL_PATH/pgsql/lib" />
            <file src="agens_temp/geos/lib/libgeos-3.4.2.so" targetdir="$INSTALL_PATH/pgsql/lib" />
            <file src="agens_temp/geos/lib/libgeos_c.so.1.8.2" targetdir="$INSTALL_PATH/pgsql/lib" />
            <file src="agens_temp/proj/lib/libproj.so.9.0.0" targetdir="$INSTALL_PATH/pgsql/lib" />
            <file src="agens_temp/gdal/lib/libgdal.so.1.18.2" targetdir="$INSTALL_PATH/pgsql/lib" />

            <executable targetfile="$INSTALL_PATH/pgsql/lib/postgis-2.1.so" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/rtpostgis-2.1.so" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/libgeos-3.4.2.so" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/libgeos_c.so.1.8.2" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/libproj.so.9.0.0" keep="true" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/libgdal.so.1.18.2" keep="true" />

            <fileset dir="postgis-2.1.6/extensions/postgis/sql" targetdir="$INSTALL_PATH/pgsql/share/extension">
            <exclude name="postgis.sql" />
            </fileset>
            <file src="postgis-2.1.6/extensions/postgis/postgis.control" targetdir="$INSTALL_PATH/pgsql/share/extension" />
            <fileset dir="postgis-2.1.6/extensions/postgis_topology/sql/" targetdir="$INSTALL_PATH/pgsql/share/extension">
            <exclude name="postgis_topology.sql" />
            </fileset>
            <file src="postgis-2.1.6/extensions/postgis_topology/postgis_topology.control" targetdir="$INSTALL_PATH/pgsql/share/extension" />
            <fileset dir="postgis-2.1.6/extensions/postgis_tiger_geocoder/sql" targetdir="$INSTALL_PATH/pgsql/share/extension">
            <exclude name="postgis_tiger_geocoder.sql" />
            </fileset>
            <file src="postgis-2.1.6/extensions/postgis_tiger_geocoder/postgis_tiger_geocoder.control" targetdir="$INSTALL_PATH/pgsql/share/extension" />
            <file src="res/installer/compile_postgis.sh" targetdir="$INSTALL_PATH/installer/res"/>
            <executable targetfile="$INSTALL_PATH/installer/res/compile_postgis.sh" stage="postinstall" keep="true" />
            <parsable targetfile="$INSTALL_PATH/installer/res/compile_postgis.sh"/>
        </pack>


        <!-- pgbouncer -->
        <pack name="pgbouncer" id="pgbouncer" required="no">
            <description>pgbouncer</description>

            <fileset dir="agens_temp/pgbouncer" targetdir="$INSTALL_PATH/pgbouncer"/>
            <executable targetfile="$INSTALL_PATH/pgbouncer/bin/pgbouncer" keep="true" />
        </pack>


        <!-- skytools -->
        <pack name="skytools" id="skytools" required="no">
            <description></description>
            <fileset dir="agens_temp/skytools" targetdir="$INSTALL_PATH/skytools"/>
            <executable targetfile="$INSTALL_PATH/skytools/bin/data_maintainer3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/londiste3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/pgqd" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/qadmin" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/queue_mover3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/queue_splitter3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/scriptmgr3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/simple_consumer3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/simple_local_consumer3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/skytools_upgrade3" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/bin/walmgr3" keep="true" />
            <!-- location of "_chashtext.so, _cquoting.so" on centos7_64bit -->
            <executable targetfile="$INSTALL_PATH/skytools/lib64/python2.7/site-packages/skytools/_chashtext.so" keep="true" />
            <executable targetfile="$INSTALL_PATH/skytools/lib64/python2.7/site-packages/skytools/_cquoting.so" keep="true" />
        </pack>


        <!-- pg_hint_plan -->
        <pack name="pg_hint_plan" id="pg_hint_plan" required="no">
            <description>pg_hint_plan</description>
            <file src="pg_hint_plan94-1.1.3/pg_hint_plan.so" targetdir="$INSTALL_PATH/pgsql/lib" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/pg_hint_plan.so" keep="true" />
            <file src="pg_hint_plan94-1.1.3/pg_hint_plan.control" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
            <file src="pg_hint_plan94-1.1.3/pg_hint_plan--1.1.3.sql" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
            <file src="pg_hint_plan94-1.1.3/pg_hint_plan--1.1.2--1.1.3.sql" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
        </pack>


        <!-- plproxy -->
        <pack name="plproxy" id="plproxy" required="no">
        <description>plproxy</description>

            <file src="plproxy-2.5/plproxy.so" targetdir="$INSTALL_PATH/pgsql/lib" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/plproxy.so" keep="true" />
            <file src="plproxy-2.5/plproxy.control" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
            <file src="plproxy-2.5/sql/plproxy--2.5.0.sql" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
            <file src="plproxy-2.5/sql/plproxy--2.3.0--2.5.0.sql" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
            <file src="plproxy-2.5/sql/plproxy--2.4.0--2.5.0.sql" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
            <file src="plproxy-2.5/sql/plproxy--unpackaged--2.5.0.sql" targetdir="$INSTALL_PATH/pgsql/share/extension/" />
        </pack>


        <!-- slony -->
        <pack name="slony" id="slony" required="no">
            <description>slony</description>

            <file src="slony1-2.2.4/src/backend/slony1_funcs.2.2.4.so" targetdir="$INSTALL_PATH/pgsql/lib" />
            <executable targetfile="$INSTALL_PATH/pgsql/lib/slony1_funcs.2.2.4.so" keep="true" />

            <file src="slony1-2.2.4/src/slon/slon" targetdir="$INSTALL_PATH/pgsql/bin/" />
            <file src="slony1-2.2.4/src/slonik/slonik" targetdir="$INSTALL_PATH/pgsql/bin/" />
            <file src="slony1-2.2.4/src/slony_logshipper/slony_logshipper" targetdir="$INSTALL_PATH/pgsql/bin/" />

            <file src="slony1-2.2.4/src/backend/slony1_base.2.2.4.sql" targetdir="$INSTALL_PATH/pgsql/share" />
            <file src="slony1-2.2.4/src/backend/slony1_base.v83.2.2.4.sql" targetdir="$INSTALL_PATH/pgsql/share" />
            <file src="slony1-2.2.4/src/backend/slony1_base.v84.2.2.4.sql" targetdir="$INSTALL_PATH/pgsql/share" />
            <file src="slony1-2.2.4/src/backend/slony1_funcs.2.2.4.sql" targetdir="$INSTALL_PATH/pgsql/share" />
            <file src="slony1-2.2.4/src/backend/slony1_funcs.v83.2.2.4.sql" targetdir="$INSTALL_PATH/pgsql/share" />
            <file src="slony1-2.2.4/src/backend/slony1_funcs.v84.2.2.4.sql" targetdir="$INSTALL_PATH/pgsql/share" />
        </pack>

    </packs>

</installation>
